<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avaliação de Projetos Científicos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: auto;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
            color: #333;
        }
        label {
            font-weight: bold;
            display: block;
            margin-top: 15px;
            color: #555;
        }
        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
            box-sizing: border-box;
        }
        textarea {
            height: 80px;
            resize: none; /* Desativa o redimensionamento do textarea */
        }
        input[type="range"] {
            -webkit-appearance: none; /* Remove o estilo padrão */
            appearance: none;
            width: 100%; /* Largura total */
            height: 6px; /* Altura da barra do slider */
            background: #ddd; /* Cor de fundo da barra */
            border-radius: 5px; /* Bordas arredondadas */
            outline: none; /* Remove a borda ao focar */
            margin-top: 5px; /* Margem entre o slider e o valor */
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; /* Remove o estilo padrão */
            appearance: none;
            width: 20px; /* Largura do "thumb" */
            height: 20px; /* Altura do "thumb" */
            background: #007BFF; /* Cor do "thumb" */
            border-radius: 50%; /* Arredonda o "thumb" */
            cursor: pointer; /* Muda o cursor para indicar que é clicável */
        }
        input[type="range"]::-moz-range-thumb {
            width: 20px; /* Largura do "thumb" */
            height: 20px; /* Altura do "thumb" */
            background: #007BFF; /* Cor do "thumb" */
            border-radius: 50%; /* Arredonda o "thumb" */
            cursor: pointer; /* Muda o cursor para indicar que é clicável */
        }
        button {
            background-color: #007BFF;
            color: white;
            padding: 12px;
            border: none;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            margin-top: 20px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        #mensagem {
            display: none;
            color: green;
            font-weight: bold;
            margin-top: 15px;
            text-align: center;
        }
        .slider-container {
            display: flex;
            align-items: center;
            margin-top: 10px; /* Espaçamento entre o slider e o próximo elemento */
        }
        .slider-value {
            margin-left: 10px;
            font-weight: bold;
            color: #333; /* Cor do texto do valor */
            min-width: 30px; /* Largura mínima para manter o alinhamento */
        }
    </style>
</head>
<body>

    <h2>Avaliação de Projetos Científicos</h2>

    <form id="formAvaliacao" action="https://api.sheetmonkey.io/form/pjHXBzUd6eKMKQcGUujWxo" method="post">

        <label>Nome do Avaliador:</label>
        <input type="text" name="Nome do Avaliador" required />

        <label>Link do currículo Lattes do avaliador:</label>
        <input type="text" name="Link do currículo Lattes" required />

        <label>Número do Protocolo do Projeto:</label>
        <input type="text" name="Número Protocolo do Projeto" required />

        <label>Título do Projeto:</label>
        <input type="text" name="Título do Projeto" required />

<p class="orientacoes">
            <strong>ORIENTAÇÕES:</strong><br>

            Por gentileza, solicitamos o preenchimento de todos os campos com as devidas justificativas. <br>
            Para atribuir a nota em cada critério, arraste a "bola" azul, utilizando apenas notas inteiras entre 0 e 100.
        </p>

        <!-- Critérios de Avaliação -->
        <label>1- Mérito, originalidade e relevância do projeto para o desenvolvimento científico, tecnológico e de inovação do Estado do Paraná e do País (Peso 3).  </label>
        <div class="slider-container">
            <input type="range" name="Mérito e relevância" min="0" max="100" step="1" value="0" oninput="atualizarValor(this, 'valorMerito')" />
            <span class="slider-value" id="valorMerito">0</span>
        </div>
        <textarea name="Observação Mérito" placeholder="Justifique sua avaliação"></textarea>

        <label>2- Coerência e adequação do problema de pesquisa aos objetivos, metodologia e resultados esperados no projeto de pesquisa (Peso 2). </label>
        <div class="slider-container">
            <input type="range" name="Coerência do problema" min="0" max="100" step="1" value="0" oninput="atualizarValor(this, 'valorCoerencia')" />
            <span class="slider-value" id="valorCoerencia">0</span>
        </div>
        <textarea name="Observação Coerência" placeholder="Justifique sua avaliação"></textarea>

        <label>3- Coerência e adequação do cronograma de atividades com os resultados esperados do projeto de pesquisa (Peso 2).</label>
        <div class="slider-container">
            <input type="range" name="Adequação do cronograma" min="0" max="100" step="1" value="0" oninput="atualizarValor(this, 'valorCronograma')" />
            <span class="slider-value" id="valorCronograma">0</span>
        </div>
        <textarea name="Observação Cronograma" placeholder="Justifique sua avaliação"></textarea>

        <label>4- Aderência do projeto de pesquisa proposto a um ou mais temas (Domínios e Subdomínios) do Paraná 2040 – Rotas Estratégicas de Ciência, Tecnologia & Inovação (CT&I), Ecossistema Norte Pioneiro (Peso 1).</label>
        <div class="slider-container">
            <input type="range" name="Aderência Paraná 2040" min="0" max="100" step="1" value="0" oninput="atualizarValor(this, 'valorAderencia')" />
            <span class="slider-value" id="valorAderencia">0</span>
        </div>
        <textarea name="Observação Aderência" placeholder="Justifique sua avaliação"></textarea>

        <label>5- Coerência e adequação entre a experiência da equipe do projeto e os objetivos, atividades e metas propostos (Peso 1). </label>
        <div class="slider-container">
            <input type="range" name="Experiência da equipe" min="0" max="100" step="1" value="0" oninput="atualizarValor(this, 'valorExperiencia')" />
            <span class="slider-value" id="valorExperiencia">0</span>
        </div>
        <textarea name="Observação Experiência" placeholder="Justifique sua avaliação"></textarea>

        <label>6- Plano para Promoção, Popularização e Divulgação Científica e Tecnológica (Peso 1). </label>
        <div class="slider-container">
            <input type="range" name="Divulgação Científica" min="0" max="100" step="1" value="0" oninput="atualizarValor(this, 'valorDivulgacao')" />
            <span class="slider-value" id="valorDivulgacao">0</span>
        </div>
        <textarea name="Observação Divulgação" placeholder="Justifique sua avaliação"></textarea>

        <input type="hidden" name="Created" value="x-sheetmonkey-current-date-time" />
        <button type="submit">Enviar Avaliação</button>
        <p id="mensagem">✅ Resposta enviada com sucesso!</p>
    </form>

    <script>
        document.getElementById("formAvaliacao").addEventListener("submit", function(event) {
            let campos = [
                { nome: "Mérito e relevância", id: "valorMerito", obs: "Observação Mérito" },
                { nome: "Coerência do problema", id: "valorCoerencia", obs: "Observação Coerência" },
                { nome: "Adequação do cronograma", id: "valorCronograma", obs: "Observação Cronograma" },
                { nome: "Aderência Paraná 2040", id: "valorAderencia", obs: "Observação Aderência" },
                { nome: "Experiência da equipe", id: "valorExperiencia", obs: "Observação Experiência" },
                { nome: "Divulgação Científica", id: "valorDivulgacao", obs: "Observação Divulgação" }
            ];

            let erro = false;
            let mensagemErro = "Responda o campo em branco:\n\n";

            campos.forEach(campo => {
                let slider = document.querySelector(`input[name="${campo.nome}"]`);
                let observacao = document.querySelector(`textarea[name="${campo.obs}"]`);

                if (slider.value == "0") {
                    erro = true;
                    mensagemErro += `- Ajuste a nota do critério: ${campo.nome}\n`;
                }

                if (observacao.value.trim() === "") {
                    erro = true;
                    mensagemErro += `- Preencha a observação de: ${campo.nome}\n`;
                }
            });

            if (erro) {
                alert(mensagemErro);
                event.preventDefault();
            } else {
                exibirMensagem();
            }
        });

        function exibirMensagem() {
            document.getElementById("mensagem").style.display = "block";
        }

        function atualizarValor(slider, valorId) {
            document.getElementById(valorId).textContent = slider.value;
        }
    </script>

</body>
</html>
